<section class="lesson-material__content"><article class="material"><h1>Библиотеки Python. Часть 1. Встроенные модули</h1>
<section class="material__plan"><nav>
<ol>
<li><a class="material__link" href="#1">Библиотеки как наследие</a></li>
<li><a class="material__link" href="#2">Репозиторий PyPI</a></li>
<li><a class="material__link" href="#3">Встроенные модули</a></li>
<li><a class="material__link" href="#4">Модуль math</a></li>
<li><a class="material__link" href="#5">Модуль random</a></li>
<li><a class="material__link" href="#6">Модуль datetime</a></li>
<li><a class="material__link" href="#7">Модуль pprint</a></li>
</ol>
</nav></section>
<section class="material__annotation">
<h2>Аннотация</h2>
<p>Python — высокоуровневый язык программирования, объектно-ориентированный, модульный и подчеркнуто легкочитаемый, что делает его очень простым в изучении. Python широко применяется в образовательной сфере, для научных вычислений, больших данных и машинного обучения, в веб-разработке, графике, GUI, играх и других направлениях. В связи с огромной сферой применения существует уже бесчисленное количество библиотек, упрощающих программирование на этом языке без необходимости написания излишнего кода. На этом уроке мы начнем знакомство со стандартными библиотеками языка Python.</p>
</section>
<section class="material__chapter">
<h2 id="1">Библиотеки как наследие</h2>
<p>У каждого языка программирования есть свои особенности, в том числе и у Python. Есть сферы деятельности, где он любим, а есть области, в которых он не очень силен и не пользуется популярностью.</p>
<p>Сначала поговорим о сильных сторонах.</p>
<section class="material__note">
<p class="material__note-heading"><strong>Сильные стороны Python</strong></p>
<ul>
<li>На Python легко научиться программировать (именно поэтому вы его и изучаете)</li>
<li>Благодаря строению языка и его динамической скриптовой природе разрабатывать на Python можно очень быстро</li>
</ul>
<p>Принцип прост: <strong>быстро изучить — быстро программировать</strong>.</p>
</section>
<p>В результате языком Python заинтересовались люди, которым нужно автоматизировать какие-то процессы в своей деятельности или «склеивать» несколько взаимосвязанных программ в комплексы. Обычно эти люди не программисты по специальности. Это инженеры, преподаватели, математики, физики, биологи, лингвисты — все они часто применяют Python в своей практике.</p>
<p>Вторая причина популярности Python связана с тем, что он очень быстро стал интегрироваться с огромным количеством библиотек, написанных на других языках программирования. Что-то очень похожее было когда-то с языком программирования Perl и его платформой <a class="material__link" href="http://www.cpan.org/" rel="noopener noreferrer" target="_blank">CPAN</a>.</p>
<p>Теперь пришел черед познакомиться с термином «библиотека» в контексте программирования.</p>
<section class="material__note">
<p class="material__note-heading"><strong>Библиотека</strong></p>
<p>Библиотека в программировании — сборник подпрограмм или объектов, используемых для разработки программного обеспечения, или ПО. Так гласит Википедия.</p>
<p>Давайте немного поясним. Правила структурного программирования говорят, что любая программа должна иметь структуру, а именно: делиться на взаимодействующие компоненты (блоки) — файлы, функции, классы.</p>
</section>
<div class="material__content-positioner"><img class="material__illustration" height="auto" src="https://yastatic.net/s3/lyceum/content/images/first-year/lesson-25/13.svg" width="600"/></div>
<p>Это можно сравнить с разделением книг на главы, абзацы, слова — без такого деления трудно понять смысл. Этот принцип — первый важный этап в понимании сущности библиотеки.</p>
<p>Следующий этап заключается в возможности использовать часть кода одной программы из другой программы. Обычно это нужно, чтобы повторно использовать код: не писать одно и то же два раза. А еще — не переписывать код, написанный на другом языке программирования. Такое свойство часто называют модульностью.</p>
<p>Кстати, если бы все зарядки от сотовых телефонов были одинаковыми, вы бы могли насладиться модульностью в мире смартфонов. Был такой проект <a class="material__link" href="https://ru.wikipedia.org/wiki/Project_Ara" rel="noopener noreferrer" target="_blank">Ara</a> — модульный смартфон, в который можно было ставить дополнительную память, элементы питания, фотокамеру.</p>
<div class="material__content-positioner"><img class="material__illustration" height="auto" src="https://yastatic.net/s3/lyceum/content/image/ara.jpeg" width="600"/></div>
<p>Самый простой контейнер для кода — функция. Часто используемые функции объединяются по своему типу в библиотеки. Например, функции по работе с видеофайлами, функции, отвечающие за соединение и получение информации из Интернета и т. д.</p>
<p>Библиотеки могут объединяться в более крупные сборники, в итоге иногда получаются настоящие монстры, относящиеся к какой-то широкой области. Например, OpenCV — это библиотека для компьютерного зрения, Django — для веб-программирования, Scipy — для научных вычислений.</p>
<p>В Python библиотеки называются <strong>модулями</strong>.</p>
<p>Итак, современный язык программирования напоминает наборы конструкторов, которые совместимы друг с другом.</p>
<div class="material__content-positioner"><img class="material__illustration" height="auto" src="https://yastatic.net/s3/lyceum/content/images/first-year/lesson-25/5.svg" width="600"/></div>
<p>Если вы программируете на Python, представьте себя ребенком, попавшим на огромный склад с конструкторами, где можно взять любой из них и делать с ним что угодно.</p>
<p>Именно так. Очень многие библиотеки абсолютно свободны (на их использование нет никаких ограничений), бесплатны, а их исходные коды доступны.</p>
<p>Некоторые библиотеки, например, связанные с математическими вычислениями, очень старые и написаны еще на Fortran. При этом они используются в современных проектах, поскольку созданы профессиональными математиками и инженерами, многократно проверены и оптимизированы.</p>
<p>В этом смысле <strong>библиотеки</strong> — такое же наследие человечества, как литература, музыка и архитектура.</p>
<p>Интересный факт: с точки зрения закона, программы являются литературными произведениями.</p>
</section>
<section class="material__chapter">
<h2 id="2">Репозиторий PyPI</h2>
<p><a class="material__link" href="https://pypi.python.org/pypi" rel="noopener noreferrer" target="_blank">PyPI</a> — центральный репозиторий (хранилище) модулей для языка программирования Python. Он как PlayMarket для Android, AppStore для iPhone или CPAN для Perl.</p>
<p>Пройдите по ссылке. Вы увидите страницу, которая начинается со следующих слов:</p>
<p>The Python Package Index (PyPI) is a repository of software for the Python programming language.</p>
<p>PyPI helps you find and install software developed and shared by the Python community.</p>
<p>Обратите внимание: количество модулей уже превысило <strong>200 000</strong>!</p>
<p>Наверное, можно в шутку говорить, что у Python на все случаи жизни есть нужная библиотека.</p>
<p>Допустим, вы хотите написать программу-бота для «ВКонтакте», чтобы она делала за вас репосты, ставила лайки, переписывалась с друзьями, предлагала подружиться... Так вот для этого тоже есть библиотека!</p>
<p>Как работать с PyPI, мы изучим на следующем уроке, а пока разберемся со встроенными модулями.</p>
</section>
<section class="material__chapter">
<h2 id="3">Встроенные модули</h2>
<p>Говорят, что Python поставляется уже с батарейками — даже стандартной библиотеки, входящей в комплект, уже достаточно для многих вещей.</p>
<div class="material__content-positioner"><img class="material__illustration" height="auto" src="https://yastatic.net/s3/lyceum/content/images/first-year/lesson-25/15.svg" width="600"/></div>
<p>Стандартной библиотеке посвящен <a class="material__link" href="https://docs.python.org/3/library/" rel="noopener noreferrer" target="_blank">целый раздел документации</a>. Советуем вам хотя бы раз просмотреть его, чтобы примерно знать, какие вообще библиотеки бывают.</p>
<section class="material__note">
<p class="material__note-heading"><strong>Модули в Python</strong></p>
<p>Модули в Python устроены по иерархическому принципу, как каталоги в файловой системе. Один модуль может быть вложен в другой, причем вложенность не ограничена (хотя на практике редко бывает больше 4). Чтобы пользоваться функциями, объектами и классами из модуля, весь этот модуль или его часть нужно подключить к программе — <strong>импортировать</strong>.</p>
</section>
<p>Возникает вопрос: а почему бы не подключить все библиотеки сразу?</p>
<p>Можно, но это привело бы к нерациональному использованию оперативной памяти и очень долгой загрузке вашей программы.</p>
<section class="material__note">
<p class="material__note-heading"><strong>Важно!</strong></p>
<p>Поэтому есть правило: <strong>не импортируйте то, чем не пользуетесь</strong>.</p>
<p>За импорт в Python отвечает директива <var>import</var>.</p>
</section>
<p>Давайте посмотрим на примерах, как это происходит.</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">from</span> math <span class="token keyword">import</span> pi <span class="token comment"># Возьмем число пи из библиотеки math</span>
</code></pre>
<p>Теперь вам доступна переменная <var>pi</var>. (В Python это значение приближенно равно 3,141592653589793).</p>
<section class="material__note">
<p class="material__note-heading"><strong>Ключевое слово as</strong></p>
<p>Модуль, переменную, класс или функцию можно при импорте назвать своим именем — для этого служит ключевое слово <var>as</var>, например:</p>
<pre class="language-python"><code class="language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">from</span> math <span class="token keyword">import</span> pi <span class="token keyword">as</span> число_пи
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> число_пи
</code></pre>
<pre><samp>3.141592653589793</samp></pre>
</section>
<p>Более того, поскольку в программе на языке Python в именах допустимы буквенные символы любых алфавитов, можно использовать даже греческие буквы (впрочем, это неудобно, если у вас кириллическо-латинская клавиатура).</p>
<pre class="language-python"><code class="language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">from</span> math <span class="token keyword">import</span> pi <span class="token keyword">as</span> π
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">print</span><span class="token punctuation">(</span>π<span class="token punctuation">)</span>
</code></pre>
<pre><samp>3.141592653589793</samp></pre>
<p>Если нужно импортировать что-то с большей степенью вложенности, вам поможет символ ".", он выполняет ту же функцию, что и разные виды слешей в путях до файлов.</p>
<pre class="language-python"><code class="language-python"><span class="token comment"># мне нужна функция urlopen из request, </span>
<span class="token comment"># который находится внутри urllib</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">from</span> urllib<span class="token punctuation">.</span>request <span class="token keyword">import</span> urlopen
</code></pre>
<section class="material__note">
<p class="material__note-heading"><strong>Важно!</strong></p>
<p>Мы можем импортировать всю библиотеку, но тогда для доступа к ее содержимому нужно снова использовать точку:</p>
<pre class="language-python"><code class="language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">import</span> math
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">print</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span>pi<span class="token punctuation">)</span>
</code></pre>
<pre><samp>3.141592653589793</samp></pre>
</section>
<p>Или несколько точек. В любом случае аналогия с файловой структурой почти полная (объекты, функции и классы лежат в файлах, которые группируются в папки, которые тоже могут лежать в папках и т. д.).</p>
<pre class="language-python"><code class="language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">import</span> urllib
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
</code></pre>
<section class="material__note">
<p class="material__note-heading"><strong>Особенности импорта модулей</strong></p>
<p>Значения после директивы import можно писать через запятую:</p>
<pre class="language-python"><code class="language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">from</span> math <span class="token keyword">import</span> sin<span class="token punctuation">,</span> cos<span class="token punctuation">,</span> tan
</code></pre>
<p>Значок <code>*</code> означает, что из библиотеки нужно импортировать все, что доступно.</p>
<pre class="language-python"><code class="language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">from</span> math <span class="token keyword">import</span> <span class="token operator">*</span>
</code></pre>
</section>
<p>Впрочем, так делать не рекомендуется, поскольку при таком подходе засоряется пространство имен.</p>
<pre class="language-python"><code class="language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">import</span> math
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">dir</span><span class="token punctuation">(</span>math<span class="token punctuation">)</span>
</code></pre>
<pre><samp>['__doc__', '__loader__', '__name__', '__package__', '__spec__', 'acos', 
 'acosh','asin', 'asinh', 'atan', 'atan2', 'atanh', 'ceil', 'copysign',
 'cos', 'cosh','degrees', 'e', 'erf', 'erfc', 'exp', 'expm1', 'fabs', 
 'factorial', 'floor','fmod', 'frexp', 'fsum', 'gamma', 'hypot', 'isfinite',
 'isinf', 'isnan', 'ldexp','lgamma', 'log', 'log10', 'log1p', 'log2',
 'modf', 'pi', 'pow', 'radians', 'sin','sinh', 'sqrt', 'tan', 'tanh', 'trunc']</samp></pre>
<pre class="language-python"><code class="language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">help</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span>sin<span class="token punctuation">)</span>
</code></pre>
<pre><samp>Help on built-in function sin in module math:
 
sin(...)
    sin(x)
     
    Return the sine of x (measured in radians).</samp></pre>
<pre class="language-python"><code class="language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">help</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span>radians<span class="token punctuation">)</span>
</code></pre>
<pre><samp>Help on built-in function radians in module math:
 
radians(...)
    radians(x)
     
    Convert angle x from degrees to radians.</samp></pre>
<pre class="language-python"><code class="language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> sin<span class="token punctuation">(</span>radians<span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<pre><samp>0.49999999999999994</samp></pre>
<p>Обратите внимание: часть имен начинается с символа "_". Это служебные имена, мы их пока рассматривать не будем, да и программисты ими пользуются редко.</p>
<section class="material__note">
<p class="material__note-heading"><strong>«Пасхальные яйца» в Python</strong></p>
<p>Говоря про встроенную библиотеку, нельзя не сказать о <a class="material__link" href="https://ru.wikipedia.org/wiki/Пасхальное_яйцо_(виртуальное)" rel="noopener noreferrer" target="_blank">«пасхальных яйцах»</a> в Python. При импорте модуля <var>this</var> вы познакомитесь с дзеном Python.</p>
</section>
<pre class="language-python"><code class="language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">import</span> this
</code></pre>
<pre><samp>The Zen of Python, by Tim Peters
 
Beautiful is better than ugly.
Explicit is better than implicit.
Simple is better than complex.
Complex is better than complicated.
Flat is better than nested.
Sparse is better than dense.
Readability counts.
Special cases aren't special enough to break the rules.
Although practicality beats purity.
Errors should never pass silently.
Unless explicitly silenced.
In the face of ambiguity, refuse the temptation to guess.
There should be one-- and preferably only one --obvious way to do it.
Although that way may not be obvious at first unless you're Dutch.
Now is better than never.
Although never is often better than *right* now.
If the implementation is hard to explain, it's a bad idea.
If the implementation is easy to explain, it may be a good idea.
Namespaces are one honking great idea -- let's do more of those!</samp></pre>
<p>А импорт модуля с антигравитацией откроет в браузере комикс о том, что в Python действительно есть модули на все случаи жизни.</p>
<pre class="language-python"><code class="language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">import</span> antigravity
</code></pre>
<div class="material__content-positioner"><img class="material__illustration" height="auto" src="https://yastatic.net/s3/lyceum/content/image/antigravity.png" width="550"/></div>
</section>
<section class="material__chapter">
<h2 id="4">Модуль math</h2>
<p>Давайте вернемся к встроенному модулю <var>math</var> и посмотрим внимательнее на то, какие возможности он нам предоставляет.</p>
<p>Мы писали программу для вычисления факториала числа, оказывается, такая функция уже есть:</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">import</span> math

<span class="token keyword">print</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span>factorial<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<pre><samp>120</samp></pre>
<p>Довольно часто применяется и функция <var>gcd</var> для нахождения наибольшего общего делителя:</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">import</span> math

<span class="token keyword">print</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span>gcd<span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<pre><samp>100</samp></pre>
<p>Кроме того, есть функции для возведения в степень <var>pow</var>, которое принимает число, которое надо возвести в степень первым аргументом, а вторым аргументом — показатель степени, в которую надо возвести первый аргумент. А для извлечения квадратного корня числа есть функция <var>math.sqrt</var>.</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">import</span> math

<span class="token comment"># Возведение в степень</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span><span class="token builtin">pow</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># Извлечение квадратного корня</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<pre><samp>10000000000.0
4.0</samp></pre>
<p>В модуль <var>math</var> встроены тригонометрические функции вычисления синуса, косинуса, тангенса и т. д.:</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">import</span> math

<span class="token keyword">print</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>math<span class="token punctuation">.</span>radians<span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>math<span class="token punctuation">.</span>radians<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span>tan<span class="token punctuation">(</span>math<span class="token punctuation">.</span>radians<span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<pre><samp>1.0
1.0
0.9999999999999999</samp></pre>
<p>Обратите внимание: они принимают на вход значение угла в радианах, поэтому данные в градусах надо перевести в радианы с помощью функции модуля <var>math</var>, которая называется <var>radians</var>. Существует и зеркальная функция degrees для перевода радиан в градусы.</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">import</span> math

<span class="token keyword">print</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span>degrees<span class="token punctuation">(</span>math<span class="token punctuation">.</span>pi<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<pre><samp>180.0</samp></pre>
<p>Кроме того, <var>math</var> содержит ряд дополнительных интересных функций, например, знает теорему Пифагора. Функция <code>hypot(a, b)</code> возвращает длину гипотенузы по двум катетам прямоугольного треугольника. Полный перечень функций и их описания можно посмотреть в документации.</p>
</section>
<section class="material__chapter">
<h2 id="5">Модуль random</h2>
<div class="material__content-positioner"><img class="material__illustration" height="auto" src="https://yastatic.net/s3/lyceum/content/images/first-year/lesson-25/8.svg" width="600"/></div>
<p>Этот модуль предназначен для работы с псевдослучайными последовательностями. Такие последовательности важны в математическом моделировании, в криптографии и в различных играх.</p>
<p>Давайте посмотрим структуру модуля.</p>
<pre class="language-python"><code class="language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">import</span> random
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">dir</span><span class="token punctuation">(</span>random<span class="token punctuation">)</span>
</code></pre>
<pre><samp>['BPF', 'LOG4', 'NV_MAGICCONST', 'RECIP_BPF', 'Random', 'SG_MAGICCONST',
 'SystemRandom', 'TWOPI', '_BuiltinMethodType', '_MethodType', '_Sequence', 
 '_Set','__all__', '__builtins__', '__cached__', '__doc__', '__file__', 
 '__loader__','__name__', '__package__', '__spec__', '_acos', '_ceil', 
 '_cos', '_e', '_exp','_inst', '_log', '_pi', '_random', '_sha512', '_sin', 
 '_sqrt', '_test','_test_generator', '_urandom', '_warn', 'betavariate', 
 'choice', 'expovariate','gammavariate', 'gauss', 'getrandbits', 'getstate', 
 'lognormvariate','normalvariate', 'paretovariate', 'randint', 'random', 
 'randrange', 'sample','seed', 'setstate', 'shuffle', 'triangular', 'uniform', 
 'vonmisesvariate','weibullvariate']</samp></pre>
<p>Как видим, довольно много функций. Давайте рассмотрим некоторые из них.</p>
<p>Для получения одного псевдослучайного целого числа можно воспользоваться одной из двух функций: <var>randrange</var> или <var>randint</var>. Функция <var>randrange</var> возвращает случайное число из диапазона. Как и в обычном <var>range</var>, мы можем указать начало, конец и шаг диапазона. Функция <var>randint</var> работает похожим образом, но у нее границы диапазона — обязательные параметры, нельзя указать шаг, и верхняя граница включена в диапазон генерации.</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">from</span> random <span class="token keyword">import</span> randrange<span class="token punctuation">,</span> randint

<span class="token comment"># возвращаем случайное целое из диапазона</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>randrange<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>randrange<span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>randint<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<section class="material__note">
<p class="material__note-heading"><strong>Функция choice</strong></p>
<p>Одна из самых популярных — функция <var>choice</var>. С ее помощью можно выбрать один вариант из нескольких альтернатив, заданных в списке, кортеже, строке или любом другом индексируемом типе. <var>choice</var> нельзя применять для неупорядоченных коллекций — например, множеств и словарей.</p>
</section>
<p>Например, вот так можно моделировать подкидывание монетки:</p>
<pre class="language-python"><code class="language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">from</span> random <span class="token keyword">import</span> choice
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> choice<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<pre><samp>2</samp></pre>
<pre class="language-python"><code class="language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> choice<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"орел"</span><span class="token punctuation">,</span> <span class="token string">"решка"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre>
<pre><samp>'орел'</samp></pre>
<pre class="language-python"><code class="language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> choice<span class="token punctuation">(</span><span class="token string">"ab"</span><span class="token punctuation">)</span>
</code></pre>
<pre><samp>'a'</samp></pre>
<p>А так — сымитировать несколько бросков игральных кубиков:</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">from</span> random <span class="token keyword">import</span> choice

dashes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>choice<span class="token punctuation">(</span>dashes<span class="token punctuation">)</span><span class="token punctuation">,</span> choice<span class="token punctuation">(</span>dashes<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<pre><samp>2 5
6 5
6 1
1 2
5 6
6 1
4 2
4 2
2 3</samp></pre>
<p>Если задать символы на сторонах кубика с использованием кодировки Unicodе, все будет еще реалистичнее.</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">from</span> random <span class="token keyword">import</span> choice

dashes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'\u2680'</span><span class="token punctuation">,</span> <span class="token string">'\u2681'</span><span class="token punctuation">,</span> <span class="token string">'\u2682'</span><span class="token punctuation">,</span> <span class="token string">'\u2683'</span><span class="token punctuation">,</span> <span class="token string">'\u2684'</span><span class="token punctuation">,</span> <span class="token string">'\u2685'</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>choice<span class="token punctuation">(</span>dashes<span class="token punctuation">)</span><span class="token punctuation">,</span> choice<span class="token punctuation">(</span>dashes<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<pre><samp>⚄ ⚄
⚀ ⚂
⚄ ⚃
⚄ ⚂
⚃ ⚁
⚀ ⚂
⚀ ⚄
⚃ ⚁
⚄ ⚂</samp></pre>
<p>Можно сделать симуляцию магического шара с ответами <a class="material__link" href="https://ru.wikipedia.org/wiki/Magic_8_ball" rel="noopener noreferrer" target="_blank">magic 8 ball</a>.</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">from</span> random <span class="token keyword">import</span> choice
 
choices <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string">'It is certain (Бесспорно)'</span><span class="token punctuation">,</span>
    <span class="token string">'It is decidedly so (Предрешено)'</span><span class="token punctuation">,</span>
    <span class="token string">'Without a doubt (Никаких сомнений)'</span><span class="token punctuation">,</span>
    <span class="token string">'Yes — definitely (Определённо да)'</span><span class="token punctuation">,</span>
    <span class="token string">'You may rely on it (Можешь быть уверен в этом)'</span><span class="token punctuation">,</span>
    <span class="token string">'As I see it, yes (Мне кажется — «да»)'</span><span class="token punctuation">,</span>
    <span class="token string">'Most likely (Вероятнее всего)'</span><span class="token punctuation">,</span>
    <span class="token string">'Outlook good (Хорошие перспективы)'</span><span class="token punctuation">,</span>
    <span class="token string">'Signs point to yes (Знаки говорят — «да»)'</span><span class="token punctuation">,</span>
    <span class="token string">'Yes (Да)'</span><span class="token punctuation">,</span>
    <span class="token string">'Reply hazy, try again (Пока не ясно, попробуй снова)'</span><span class="token punctuation">,</span>
    <span class="token string">'Ask again later (Спроси позже)'</span><span class="token punctuation">,</span>
    <span class="token string">'Better not tell you now (Лучше не рассказывать)'</span><span class="token punctuation">,</span>
    <span class="token string">'Cannot predict now (Сейчас нельзя предсказать)'</span><span class="token punctuation">,</span>
    <span class="token string">'Concentrate and ask again (Соберись и спроси опять)'</span><span class="token punctuation">,</span>
    <span class="token string">'Don’t count on it (Даже не думай)'</span><span class="token punctuation">,</span>
    <span class="token string">'My reply is no (Мой ответ — «нет»)'</span><span class="token punctuation">,</span>
    <span class="token string">'My sources say no (По моим данным — «нет»)'</span><span class="token punctuation">,</span>
    <span class="token string">'Outlook not so good (Перспективы не очень хорошие)'</span><span class="token punctuation">,</span>        
    <span class="token string">'Very doubtful (Весьма сомнительно)'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
 
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">"Ваш вопрос: "</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>choice<span class="token punctuation">(</span>choices<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p>Вот как может выглядеть работа этой программы:</p>
<pre><samp>Ваш вопрос: Программировать хорошо?
Yes — definitely (Определённо да)
Ваш вопрос: Есть ли перспективы у Python?
You may rely on it (Можешь быть уверен в этом)
Ваш вопрос: Нет ли тайного заговора против школьников?
Signs point to yes (Знаки говорят — «да»)
Ваш вопрос: Может быть правительство?
Without a doubt (Никаких сомнений)
Ваш вопрос: Со мной будет что-то плохое из-за того, что я это узнал?
It is decidedly so (Предрешено)</samp></pre>
<p>Обратите внимание: если попробовать вызвать <var>choice</var> с пустой коллекцией, ваша программа упадет с ошибкой. Поэтому перед использованием этой функции будет нелишним проверять наличие в коллекции хотя бы одного элемента.</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">from</span> random <span class="token keyword">import</span> choice

my_str <span class="token operator">=</span> <span class="token string">"Hello, world"</span>
<span class="token keyword">if</span> my_str<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>choice<span class="token punctuation">(</span>my_str<span class="token punctuation">)</span><span class="token punctuation">,</span> choice<span class="token punctuation">(</span>my_str<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p>Если нам нужно вернуть не один, а несколько элементов, на помощь придут функции <var>choiсes</var> и <var>sample</var>. <var>choices</var> возвращает заданное именованным параметром k количество элементов с возможными повторами (коллекция должна быть непустой), <var>sample</var> — без повторов, но выборка должна быть меньше или равна длине коллекции, иначе тоже будет ошибка.</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">from</span> random <span class="token keyword">import</span> choices<span class="token punctuation">,</span> sample

my_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Yes'</span><span class="token punctuation">,</span> <span class="token string">'No'</span><span class="token punctuation">,</span> <span class="token string">'May be'</span><span class="token punctuation">]</span>
<span class="token comment"># выбираем k элементов коллекции с повторениями</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>choices<span class="token punctuation">(</span>my_list<span class="token punctuation">,</span> k<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># выбираем k элементов без повторений</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>sample<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<pre><samp>['No', 'Yes', 'Yes', 'Yes', 'No']
[8, 9, 1, 6, 7, 5]</samp></pre>
<p>Функция <var>shuffle</var> перемешивает список, при этом меняется сам список, который передается как аргумент функции.</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">from</span> random <span class="token keyword">import</span> shuffle

a <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
shuffle<span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment"># меняет сам список</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre>
<pre><samp>[12, 97, 67, 13, 68, 58, 87, 92, 32, 40]</samp></pre>
<p>А функция <var>random</var> возвращает случайное вещественное число от 0 до 1 (не включительно):</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">from</span> random <span class="token keyword">import</span> random <span class="token keyword">as</span> rnd

<span class="token keyword">print</span><span class="token punctuation">(</span>rnd<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rnd<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rnd<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># вещественное число [0, 1)</span>
</code></pre>
<pre><samp>0.7807663953103449 0.1503300563891775 0.6068329639725171</samp></pre>
</section>
<section class="material__chapter">
<h2 id="6">Модуль datetime</h2>
<p>Модуль <var>datetime</var> предназначен для работы с датами и временем и предоставляет, кроме функций, несколько новых типов данных. Библиотека чаще всего применяется для того, чтобы узнать текущую дату или время:</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">import</span> datetime <span class="token keyword">as</span> dt

<span class="token keyword">print</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<pre><samp>2019-09-04 18:34:42.071614
18:34:42.071614
2019-09-04</samp></pre>
<p>Но ее можно использовать и для более интересных вещей, она предоставляет несколько интересных типов данных: <var>time</var>, <var>date</var>, <var>datetime</var> — для хранения времени, даты и совместно даты и времени.</p>
<div class="material__content-positioner"><img class="material__illustration" height="auto" src="https://yastatic.net/s3/lyceum/content/images/first-year/lesson-25/datetime.svg" width="680"/></div>
<p><var>date</var> — тип для хранения даты. При создании новой даты нужно указать год, месяц и день. С помощью функции <code>today()</code> можно узнать текущую дату на компьютере, а с помощью функции <code>weekday()</code> — день недели (нумерация с 0).</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">import</span> datetime <span class="token keyword">as</span> dt

<span class="token comment"># тип данных 'дата' (год + месяц + день)</span>
my_date <span class="token operator">=</span> dt<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>my_date<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span>date<span class="token punctuation">.</span>today<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span>date<span class="token punctuation">.</span>today<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>weekday<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<pre><samp>2019-11-05
2019-09-04
2</samp></pre>
<p><var>time</var> — тип для хранения времени. При создании объекта данного типа надо указать час, минуту, секунду.</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">import</span> datetime <span class="token keyword">as</span> dt

<span class="token comment"># тип данных 'время' (час + минута + секунда + милисекунда)</span>
my_time <span class="token operator">=</span> dt<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">29</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>my_time<span class="token punctuation">)</span>
</code></pre>
<p><var>datetime</var> — тип для объединения даты и времени. Можно объединить <var>date</var> и <var>time</var> в один <var>datetime</var> с помощью функции <code>combine(date, time)</code>. Обратиться к отдельным частям объекта <var>datetime</var> можно через точку и название части: например, <var>year</var> (аналогично можно поступить для <var>date</var> или <var>time</var>). С помощью функции <code>now()</code> можно узнать текущее дату и время.</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">import</span> datetime <span class="token keyword">as</span> dt

<span class="token comment"># тип данных дата + время</span>
my_datetime <span class="token operator">=</span> dt<span class="token punctuation">.</span>datetime<span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>my_datetime<span class="token punctuation">)</span>
<span class="token comment"># можно объединить дату и время</span>
my_date <span class="token operator">=</span> dt<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
my_time <span class="token operator">=</span> dt<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">29</span><span class="token punctuation">)</span>
my_datetime <span class="token operator">=</span> dt<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>combine<span class="token punctuation">(</span>my_date<span class="token punctuation">,</span> my_time<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>my_datetime<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>my_datetime<span class="token punctuation">.</span>year<span class="token punctuation">)</span>
<span class="token comment"># и получить текущую дату и время</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<pre><samp>2020-12-15 13:25:09
2019-11-05 23:15:29
2019
2019-06-19 16:32:07.208456</samp></pre>
<p>Тип <var>timedelta</var> необходим для создания объектов, содержащих некоторый временной интервал. При создании таких объектов можно указать, сколько дней, часов, минут, секунд, недель содержит временной интервал. Как и с другими типами модуля <var>datetime</var>, с частями временного интервала можно обращаться аналогично. С помощью функции <code>total_seconds()</code> можно узнать длину интервала в секундах.</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">import</span> datetime <span class="token keyword">as</span> dt

<span class="token comment"># тип данных временной интервал</span>
delta_time1 <span class="token operator">=</span> dt<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span>seconds<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> weeks<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>delta_time1<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>delta_time1<span class="token punctuation">.</span>days<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>delta_time1<span class="token punctuation">.</span>total_seconds<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<pre><samp>14 days, 0:00:10
14
1209610.0</samp></pre>
<p>Интервал, в отличие от предыдущих типов, может быть отрицательным.</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">import</span> datetime <span class="token keyword">as</span> dt

<span class="token comment"># интервал может быть отрицательным</span>
delta_time2 <span class="token operator">=</span> dt<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span>seconds<span class="token operator">=</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span> weeks<span class="token operator">=</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>delta_time2<span class="token punctuation">)</span>
</code></pre>
<pre><samp>-15 days, 23:59:50</samp></pre>
<p>Для интервалов, дат, времени и типа <var>datetime</var> поддерживаются математические и логические операции. Мы можем сложить два интервала времени, вычесть один из другого, увеличить интервал в n раз, уменьшить интервал в n раз, а с помощью деления узнать, сколько раз один интервал помещается в другой.</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">import</span> datetime <span class="token keyword">as</span> dt

<span class="token comment"># поддерживаются математические и логические операции</span>
<span class="token comment"># для интервалов времени</span>
delta_time1 <span class="token operator">=</span> dt<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span>days<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span> hours<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span>
delta_time2 <span class="token operator">=</span> dt<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span>days<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> hours<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>delta_time1 <span class="token operator">-</span> delta_time2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>delta_time1 <span class="token operator">+</span> delta_time2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>delta_time1 <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>delta_time1 <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>delta_time1 <span class="token operator">/</span> delta_time2<span class="token punctuation">)</span>
</code></pre>
<pre><samp>3 days, 3:00:00
5 days, 5:00:00
41 days, 16:00:00
10:00:00
4.0</samp></pre>
<p>К датам мы можем прибавлять временной интервал или удалять интервал для получения новой даты, которая раньше/позже на этот интервал. При вычитании одной даты из другой мы получим интервал времени между датами. С помощью логических функций мы можем узнать, какая дата позже (т. е. больше) или раньше (т. е. меньше).</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">import</span> datetime <span class="token keyword">as</span> dt

<span class="token comment"># поддерживаются математические и логические операции для дат</span>
date1 <span class="token operator">=</span> dt<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
date2 <span class="token operator">=</span> dt<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token number">2018</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
delta_time1 <span class="token operator">=</span> dt<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span>days<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span> hours<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>date1 <span class="token operator">+</span> delta_time1<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>date1 <span class="token operator">-</span> delta_time1<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>date1 <span class="token operator">-</span> date2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>date2 <span class="token operator">&gt;</span> date1<span class="token punctuation">)</span>
</code></pre>
<pre><samp>2019-11-09
2019-11-01
400 days, 0:00:00
False</samp></pre>
<p>Аналогичные действия работают и для <var>datetime</var>.</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">import</span> datetime <span class="token keyword">as</span> dt

<span class="token comment"># поддерживаются математические и логические операции для типа datetime</span>
datetime1 <span class="token operator">=</span> dt<span class="token punctuation">.</span>datetime<span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span>
datetime2 <span class="token operator">=</span> dt<span class="token punctuation">.</span>datetime<span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span>
delta_time1 <span class="token operator">=</span> dt<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span>days<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span> hours<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>datetime1 <span class="token operator">+</span> delta_time1<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>datetime1 <span class="token operator">-</span> delta_time1<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>datetime1 <span class="token operator">-</span> datetime2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>datetime2 <span class="token operator">&lt;</span> datetime1<span class="token punctuation">)</span>
</code></pre>
<pre><samp>2020-12-19 17:25:09
2020-12-11 09:25:09
366 days, 0:00:00
True</samp></pre>
<p>Кроме того, для времени, даты и типа <var>datetime</var> поддерживается форматированный вывод, который позволяет представлять информацию в удобном для нас виде.</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">import</span> datetime <span class="token keyword">as</span> dt

<span class="token comment"># поддерживается форматированный вывод</span>
my_format <span class="token operator">=</span> <span class="token string">"%B"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">"%A %d-%B-%y %H:%M:S"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>dt<span class="token punctuation">.</span>date<span class="token punctuation">.</span>today<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strftime<span class="token punctuation">(</span>my_format<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<pre><samp>Wednesday 04-September-19 18:50:S
September</samp></pre>
<p>Основные обозначения для строки-формата приведены в таблице:</p>
<div class="material__content-positioner">
<table border="1" cellpadding="5px" style="border-collapse: collapse; width: 100%;">
<thead>
<tr>
<th>Команда</th>
<th>Значение</th>
<th>Пример</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>%a</code></td>
<td>Аббревиатура дня недели</td>
<td>Sun, Mon, …, Sat (en_US);So, Mo, …, Sa (de_DE)</td>
</tr>
<tr>
<td><code>%A</code></td>
<td>Полное название дня недели</td>
<td>Sunday, Monday, …, Saturday (en_US);Sonntag, Montag, …, Samstag (de_DE)</td>
</tr>
<tr>
<td><code>%w</code></td>
<td>День недели как десятичное число, где 0 — воскресенье, а 6 — суббота</td>
<td>0, 1, …, 6</td>
</tr>
<tr>
<td><code>%d</code></td>
<td>День месяца в формате из двух цифр</td>
<td>01, 02, …, 31</td>
</tr>
<tr>
<td><code>%b</code></td>
<td>Аббревиатура месяца</td>
<td>Jan, Feb, …, Dec (en_US);Jan, Feb, …, Dez (de_DE)</td>
</tr>
<tr>
<td><code>%B</code></td>
<td>Полное название месяца</td>
<td>January, February, …, December (en_US);Januar, Februar, …, Dezember (de_DE)</td>
</tr>
<tr>
<td><code>%m</code></td>
<td>Номер месяца в формате из двух цифр</td>
<td>01, 02, …, 12</td>
</tr>
<tr>
<td><code>%y</code></td>
<td>Последние 2 цифры года (год без века)</td>
<td>00, 01, …, 99</td>
</tr>
<tr>
<td><code>%Y</code></td>
<td>Год полностью</td>
<td>0001, 0002, …, 2013, 2014, …, 9998, 9999</td>
</tr>
<tr>
<td><code>%H</code></td>
<td>Час в 24-часовом формате из двух цифр</td>
<td>00, 01, …, 23</td>
</tr>
<tr>
<td><code>%I</code></td>
<td>Час в 12-часовом формате из двух цифр</td>
<td>01, 02, …, 12</td>
</tr>
<tr>
<td><code>%p</code></td>
<td>AM или PM</td>
<td>AM, PM (en_US);am, pm (de_DE)</td>
</tr>
<tr>
<td><code>%M</code></td>
<td>Минута в формате из двух цифр</td>
<td>00, 01, …, 59</td>
</tr>
<tr>
<td><code>%S</code></td>
<td>Секунда в формате их двух цифр</td>
<td>00, 01, …, 59</td>
</tr>
<tr>
<td><code>%f</code></td>
<td>Микросекунды в формате из 6 цифр</td>
<td>000000, 000001, …, 999999</td>
</tr>
<tr>
<td><code>%j</code></td>
<td>День в году в формате из 3 цифр</td>
<td>001, 002, …, 366</td>
</tr>
<tr>
<td><code>%U</code></td>
<td>Неделя в году</td>
<td>00, 01, …, 53</td>
</tr>
<tr>
<td><code>%c</code></td>
<td>Принятое, согласно локальным настройкам, представление даты и времени</td>
<td>Tue Aug 16 21:30:00 1988 (en_US);Di 16 Aug 21:30:00 1988 (de_DE)</td>
</tr>
<tr>
<td><code>%x</code></td>
<td>Принятое, согласно локальным настройкам, представление даты</td>
<td>08/16/88 (None);08/16/1988 (en_US);16.08.1988 (de_DE)</td>
</tr>
<tr>
<td><code>%X</code></td>
<td>Принятое, согласно локальным настройкам, представление времени</td>
<td>21:30:00 (en_US);21:30:00 (de_DE)</td>
</tr>
<tr>
<td><code>%%</code></td>
<td>Знак '%'</td>
<td>%</td>
</tr>
</tbody>
</table>
</div>
<p>Более подробно можно посмотреть в <a class="material__link" href="https://docs.python.org/3.7/library/datetime.html" rel="noopener noreferrer" target="_blank">документации</a>.</p>
</section>
<section class="material__chapter">
<h2 id="7">Модуль pprint</h2>
<p>Модуль <var>pprint</var> содержит функцию <var>pprint</var>, которую удобно использовать при выводе сложных типов данных. <var>pprint</var> старается вывести в консоль объекты в наиболее читабельном для человека виде. Ее особенно удобно использовать для вывода матриц.</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">import</span> random
<span class="token keyword">from</span> pprint <span class="token keyword">import</span> pprint

a <span class="token operator">=</span> <span class="token punctuation">[</span>random<span class="token punctuation">.</span>sample<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
pprint<span class="token punctuation">(</span>a<span class="token punctuation">)</span>
</code></pre>
<pre><samp>[[0, 12, 14, 7, 15, 10], [8, 18, 15, 5, 13, 14], [15, 4, 14, 18, 17, 7], [11, 16, 19, 17, 14, 2], [6, 13, 8, 17, 9, 14], [15, 10, 4, 5, 17, 9], [16, 9, 14, 15, 13, 7], [12, 14, 9, 4, 7, 11], [13, 18, 12, 3, 17, 15], [5, 18, 16, 17, 9, 6]]

[[0, 12, 14, 7, 15, 10],
 [8, 18, 15, 5, 13, 14],
 [15, 4, 14, 18, 17, 7],
 [11, 16, 19, 17, 14, 2],
 [6, 13, 8, 17, 9, 14],
 [15, 10, 4, 5, 17, 9],
 [16, 9, 14, 15, 13, 7],
 [12, 14, 9, 4, 7, 11],
 [13, 18, 12, 3, 17, 15],
 [5, 18, 16, 17, 9, 6]]</samp></pre>
<p><var>pprint</var> работает и для словарей.</p>
<pre class="language-python"><code class="language-python"><span class="token keyword">from</span> pprint <span class="token keyword">import</span> pprint

b <span class="token operator">=</span> <span class="token punctuation">{</span>x<span class="token punctuation">:</span> x <span class="token operator">**</span> <span class="token number">2</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
pprint<span class="token punctuation">(</span>b<span class="token punctuation">)</span>
</code></pre>
<pre><samp>{0: 0, 1: 1, 2: 4, 3: 9, 4: 16, 5: 25, 6: 36, 7: 49, 8: 64, 9: 81, 10: 100, 11: 121, 12: 144, 13: 169, 14: 196, 15: 225, 16: 256, 17: 289, 18: 324, 19: 361}

{0: 0,
 1: 1,
 2: 4,
 3: 9,
 4: 16,
 5: 25,
 6: 36,
 7: 49,
 8: 64,
 9: 81,
 10: 100,
 11: 121,
 12: 144,
 13: 169,
 14: 196,
 15: 225,
 16: 256,
 17: 289,
 18: 324,
 19: 361}</samp></pre>
<p>Мы рассмотрели только несколько встроенных библиотек — их намного больше. И у рассмотренных мы разобрали далеко не все функции. Пользуйтесь функциями <var>dir</var> и <var>help</var> и читайте документацию, в ней приведены примеры и объяснены нюансы.</p>
</section></article></section>